# Функциональность 
Модуль коворкингов реализует логику взятия коворкинга студентом в пользование.

### Требования логики
1) Взятие коворкинга (студент).
    - Открыть бронирование коворкинга 
    - Выбрать коворкинг
        - Место расположения + Название
    - Забронировать выбранный коворкинг 
    - Взять коворкинг в Воспитательской
    - Получить подтверждение взятия ключа
2) Взятие коворкинга (воспитатель)
    - Открыть заявки на коворкинг
    - Найти пришедшего студента
    - Подтвердить заявку и выдать ключ
3) Просмотр взятых коворкингов (воспитатель).
    - Открыть дашборд с текущими активными бронями коворкинга
4) Сдача коворкинга (студент).
    - Сдать ключ Воспитателю
    - Получить подтверждение принятия коворкинга
5) Сдача коворкинга (воспитатель).
    - Принять ключ у студента
    - Закрыть бронь (подтвердить принятие ключа)
6) Просмотри истории пользования коворкингом (воспитатель).
    - Получить историю пользования коворкингом (фильтры по Названию, Студенту и тд.)

___
# [OpenAPI-документ](coworking_module.yaml)

# Модель базы данных
**coworking**:  
- `id` *serial* ***pk***
- `name` *varchar(50)* 
- `building` *int* 
- `enterance` *int* 
- `number` *serial*
- `available` *bool*

**coworking_booking**:
- `id` *serial* ***pk***
- `student_id` *int*
- `coworking_id` *int*   
- `taken_from` *timestamp* 
- `returned_back` *timestamp*
- `status` *enum*

#### Статусы брони:
- Создана (активация брони)
- Активна (студент внутри)
- Завершена (ключ сдан-принят) 
- Отменена 

# Контракты к другим микросервисам

### 1) auth-service

**a) `ValidateToken`** — валидация JWT-токена  
Требуется:
- `user_id` 
- `roles`
- `building` 
- `entrance` 
- `floor`
- `room` 

**b) `GetUserInfo`** — получение данных пользователя по ID  
Требуется:
- `user_id`
- `last_name`, `first_name`, `patronymic`
- `building`, `entrance`, `room`
- `roles`
- `phone`, `email`

**c) `CheckUserRole`** — проверка наличия роли  
Требуется:
- `has_role` (bool)